# Репозиторий чемпионатов механики HighLoad Cup

From Alex ThreeD

Кому интересно ошибки такие (если самому не косячить):

POST /explore 503:{"code":503,"message":"service unavailable"}

POST /licenses 409:{"code":1002,"message":"no more active licenses allowed"}

 502:{"code":502,"message":"RPC failed"}
 
 504:{"code":504,"message":"RPC timed out"}
 
POST /dig 404:{"code":404,"message":"no treasure"}

POST /cash 503:{"code":503,"message":"service unavailable"}


Сколько стоит лицензия?

https://github.com/All-Cups/highloadcup/issues/8 

(Всегда одна монета)


Andrey Tsetkov

Среднее кол-во монет в кладе 38, следовательно 3.5 млн это 92к кладов. Чтобы найти 92к кладов, надо как минимум 92к запроса на exlore, 92к на dig и 92к на cash. Плюс к этому ещё лицензий 18к. Почти 300к запросов получается. Ну то есть при 500 rps это реально. Нереально только то, что такое кол-во кладов лежит на первом этаже, ну а так же не реально написать алгоритм, который безошибочно пройдёт клетку за клеткой, не наткнувшись на пустую. Ну и конечно же все мы в курсе, что 80% кладов на первом этаже это 5 монет, а 38 монет это уже 5-6 этаж, то есть прибавляем ещё (92+18)*5 и у нас получается как минимум 850к запросов, что выглядит апсурдом, так как за 10 минут при 1000 RPS нельзя такое сделать

ud1:
Вот так выглядела скорость копания на разных высотах на маленькой нагрузке, последний столбик в мс
TT dig_1: 4625.66 1040 4.44775 

TT dig_2: 4278.93 944 4.53277 

TT dig_3: 4054.22 851 4.76406 

TT dig_4: 3594.91 758 4.74263 

TT dig_5: 3066.53 650 4.71773

TT dig_6: 2597.71 552 4.706 

TT dig_7: 2078.36 443 4.69155

TT dig_8: 1664.2 345 4.82378 

TT dig_9: 1141.89 247 4.62304 

TT dig_10: 729.757 155 4.70811

А вот так выглядит на большой
TT dig_1: 436960 25122 17.3935 

TT dig_2: 420791 22682 18.5518 

TT dig_3: 401294 20154 19.9114 

TT dig_4: 369405 17697 20.8739 

TT dig_5: 330178 15208 21.7108 

TT dig_6: 286147 12796 22.3622 

TT dig_7: 239438 10277 23.2984 
TT dig_8: 186056 7743 24.0289 

TT dig_9: 132000 5242 25.1813 

TT dig_10: 71073.4 2713 26.1974 

Времена вырасли в разы, и что интересно, зависимость от глубины тоже вырасла
